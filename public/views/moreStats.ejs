<!DOCTYPE html>
<html lang="en">
<head>
       <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PottyPlanner</title>
    <link rel="icon" class="favicon" type="image/x-icon" href="/images/logo.png">
    <link rel="stylesheet" href="/css/stats.css">
    <script src="/js/script.js"></script>
</head>

<header>
    <div class="logo">
      <a href="/"><img src="/images/logo.png"></a>
    </div>
    <div class="website-name" >Potty Planner</div>
    <input type="checkbox" id="active">
    <label for="active" class="menu-btn">
        <img src="/images/ham-menu.svg" alt="Menu Icon">
    </label>
    <div class="wrapper">
      <ul>
        <li><a href="/profiles">Profile</a></li>
        <li><a href="/feedback">Feedback</a></li>
        <li><a href="/">Log out</a></li>
      </ul>
    </div>
  </header>
 <style>
      
        h3 a {
            display: inline-block;      
            padding: 10px 20px;       
            background-color: white;    
            border: 2px solid #007BFF; 
            border-radius: 5px;         
            text-decoration: none;      
            color: #007BFF;             
            font-weight: bold;          
        }

        h3 a:hover {
            background-color: #007BFF; 
            color: white;              
        }
    </style>

<body>
    <br>
    <center><h1>More stats</h1></center>
    <style>
    .btn {
      padding: 10px 20px;
      font-size: 16px;
      background-color: #f0f0f0;
      border: 2px solid #ccc;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.2s, transform 0.1s;
      margin: 5px;
    }

    .btn:active {
      transform: scale(0.98);
    }

    .btn.active {
      background-color: #007bff;
      color: white;
      border-color: #0056b3;
    }
  </style>
</head>
<body>

<h1>Current Date and Time:</h1>
<p id="datetime"></p>

<button class="btn" id="playBtn" onclick="handleButtonClick('play')">Play</button>
<button class="btn" id="pauseBtn" onclick="handleButtonClick('pause')">Pause</button>
<button class="btn" onclick="saveSession()">Save Time</button>

<ul id="savedTimes"></ul>

<script>
  let intervalId = null;
  let startTime = null;

  function updateDateTime() {
    const now = new Date();
    const currentDateTime = now.toLocaleString();
    document.getElementById('datetime').textContent = currentDateTime;
  }

  function startTimer() {
    if (!intervalId) {
      startTime = new Date(); 
      updateDateTime(); 
      intervalId = setInterval(updateDateTime, 1000);
    }
  }

  function pauseClock() {
    if (intervalId) {
      clearInterval(intervalId);
      intervalId = null;
    }
  }

  function saveSession() {
    if (!startTime) {
      alert("Clock hasn't been started.");
      return;
    }

    const endTime = new Date();
    const durationMs = endTime - startTime;
    const durationMin = Math.floor(durationMs / 60000);
    const durationSec = Math.floor((durationMs % 60000) / 1000);

    const li = document.createElement('li');
    li.textContent = `Start: ${startTime.toLocaleTimeString()} â€“ End: ${endTime.toLocaleTimeString()} | Duration: ${durationMin} min ${durationSec} sec`;
    document.getElementById('savedTimes').appendChild(li);

    startTime = null;
    pauseClock();

    // Remove active state from all buttons
    document.querySelectorAll('.btn').forEach(btn => btn.classList.remove('active'));
  }

  function handleButtonClick(action) {
    // Remove active from all buttons first
    document.querySelectorAll('.btn').forEach(btn => btn.classList.remove('active'));

    // Add active class to clicked button
    if (action === 'play') {
      document.getElementById('playBtn').classList.add('active');
      startTimer();
    } else if (action === 'pause') {
      document.getElementById('pauseBtn').classList.add('active');
      pauseClock();
    }
  }

  updateDateTime();
  setInterval(updateDateTime, 1000);
</script>

   <h3>Student 1 name: </h3>
   <style>
    .img_deg
    {
      position: center;

    }
   </style>
<h3>Week 1</h3>
 <img class="img_deg" src="/images/Minutes.png" width="400" height="400">
 <h3>Week 2</h3>
  <img src="/images/Minutes.png" width="400" height="400">
  <h3>Week 3</h3>
  <img src="/images/Minutes.png" width="400" height="400">
  <h2>and so on</h2>
    <h3><a href="/stats">Go back</a></h3>
</body>
</html>